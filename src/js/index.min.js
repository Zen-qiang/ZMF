"use strict";var queue,animationEnd=function(e){var a={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(var i in a)if(void 0!==e.style[i])return a[i]}(document.createElement("div")),preLoad=function(){(queue=new createjs.LoadQueue(!1)).loadManifest([{id:"box1",src:"box_green.svg"},{id:"box2",src:"x_box.svg"},{id:"box3",src:"box_orange.svg"},{id:"box4",src:"box_pink.svg"},{id:"bird_purple",src:"bird_purple.png"},{id:"dialog_box",src:"dialog_box.gif"},{id:"person1",src:"person1.png"},{id:"person2",src:"person2.png"},{id:"person3",src:"person3.png"},{id:"person4",src:"person4.png"},{id:"person5",src:"person5.png"},{id:"person6",src:"person6.png"},{id:"person7",src:"person7.png"},{id:"person8",src:"person8.png"},{id:"person9",src:"person9.png"},{id:"inputBox1",src:"draw.svg"},{id:"inputBox2",src:"lamp_dark.png"},{id:"inputBox3",src:"lamp_light.png"},{id:"mouse",src:"mouse.svg"},{id:"text1",src:"message1.svg"},{id:"text2",src:"message2.svg"},{id:"text3",src:"message3.svg"},{id:"dialog_box1",src:"dialog_box1.gif"},{id:"bird_red",src:"bird_red.png"},{id:"guitar",src:"guitar.png"},{id:"sunglasses",src:"sunglasses.png"},{id:"lamp_light1",src:"lamp_light1.png"},{id:"page3_bg",src:"page3_bg.jpg"},{id:"page3_dnp",src:"page3_dpn.png"},{id:"page3_mby",src:"page3_mby.png"},{id:"page3_wsl",src:"page3_wsl.png"},{id:"page3_gd",src:"page3_gd.png"},{id:"page3_chy",src:"page3_chy.png"},{id:"page4_bird",src:"page4_bird.png"},{id:"page4_lamp",src:"page4_lamp.png"},{id:"page4_box",src:"page4_box.gif"},{id:"page6_box",src:"page6_box.png"},{id:"page6_boxred",src:"page6_boxred.png"},{id:"page6_boxorange",src:"page6_boxorange.png"},{id:"page6_boxblue",src:"page6_boxblue.png"},{id:"page6_box2",src:"page6_box2.png"},{id:"page6_bird",src:"page6_bird.png"},{id:"page6_text",src:"page6_text.gif"},{id:"page7_bg",src:"page7_bg.png"},{id:"page8_bird",src:"page8_bird.png"},{id:"page8_lamp",src:"page8_lamp.png"},{id:"page8_text",src:"page8_text.gif"}],!0,"image/"),queue.on("progress",loadFileProgress),queue.on("complete",loadComplete)};function loadComplete(e){console.log("已加载完毕全部资源"),bgAnimate()}function loadFileProgress(e){console.log("已加载 "+(100*queue.progress|0)+"%"),$(".loading_text").text((100*queue.progress|0)+"%")}function bgAnimate(){var e=$(".h_bg");$(".h_loading").remove(),$(".h_head").remove(),$("img").each(function(){$(this).attr("src",$(this).attr("data-src")).removeAttr("data-src")}),e.addClass("box_enter"),setTimeout(function(){e.removeClass("box_enter").addClass("box_shake")},600),setTimeout(function(){pageplay(".page1")},800)}function pageplay(e){$(e).siblings().css("display","none").end().css("display","block")}$("body").height($(window).height()),$(".page1 .go").on("click",function(){var e=$(".page1 input").val();e&&pageplay(".page2"),$(".user").text(e)}),$(".page2 .go").on("click",function(){pageplay(".page3")}),$(".page3 .go").on("click",function(){pageplay(".page4")}),$(".page4 .go").on("click",function(){pageplay(".page5")}),$(".page6 .go").on("click",function(){pageplay(".page7")}),$(".page7 .go").on("click",function(){pageplay(".page8")}),$(".take_gift .next").on("click",function(){$(".take_gift").addClass("active"),setTimeout(function(){$(".take_gift").css("display","none"),$(".make").css("display","block")},500)}),$(".page8 .share").on("click",function(){pageplay(".page9")});var actorNo=0;$(".actor").on("click",function(){$(this).hasClass("active")?($(this).removeClass("active"),actorNo--):($(this).addClass("active"),2==actorNo?pageplay(".page4"):actorNo++),console.log(actorNo)}),$(".page7 .diy_element li").on("click",function(){var e=$(this).index();$(this).addClass("active").siblings().removeClass("active"),$(".diy_element .labels > div").eq(e).addClass("active").siblings().removeClass("active")}),$(".page7 .diy_right li").on("click",function(){if(!$(this).hasClass("active")){var e=$(this).index()+1,a=$(".diy_bg img").attr("src").split(".png")[0].slice(0,-1);$(this).addClass("active").siblings().removeClass("active"),$(".diy_bg img").attr("src",a+e+".png")}});